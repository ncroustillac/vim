DESCRIPTION = "GSM - Get Ground contents"
LICENSE = "CLOSED"

# No need compiler
INHIBIT_DEFAULT_DEPS = "1"
S = "${WORKDIR}"

SRC_URI += "file://gsmgetgndcontents.service"
SRC_URI += "file://gsmgetgndcontents.sh"
SRC_URI += "file://gsmgetgndcontents.path"

# Udev rules and script

inherit systemd
#inherit useradd

#USERADD_PACKAGES = "${PN}"
#GROUPADD_PARAM_${PN} = "dlsecure;dling;parttable"
#USERADD_PARAM_${PN} = "-M -s /bin/false -G dlsecure,dling,parttable -U ${BPN}"

SYSTEMD_SERVICE_${PN} = "gsmgetgndcontents.service"
SYSTEMD_AUTO_ENABLE_${PN} = "enable"
FILESEXTRAPATHS_prepend := "${THISDIR}/files:"

do_install () {
  install -d ${D}${systemd_unitdir}/system
  install -m 0644 ${WORKDIR}/gsmgetgndcontents.service                ${D}${systemd_unitdir}/system
  install -m 0644 ${WORKDIR}/gsmgetgndcontents.path                   ${D}${systemd_unitdir}/system

<<<<<<< HEAD
  install -d ${D}/usr/services/gsmgetcontents
=======
  install -d ${D}/usr/services/gsmgetgndcontents
>>>>>>> refs #6268 [GSM][middleware] New gsmgetgndcontent service
  install -m 0500 ${WORKDIR}/gsmgetgndcontents.sh                     ${D}/usr/services/gsmgetgndcontents

}

<<<<<<< HEAD

=======
>>>>>>> refs #6268 [GSM][middleware] New gsmgetgndcontent service
FILES_${PN} += "${systemd_unitdir}/system"
FILES_${PN} += "/usr/services/gsmgetgndcontents"
